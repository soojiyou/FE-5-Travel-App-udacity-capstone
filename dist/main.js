var Client;(()=>{var e={437:e=>{document.getElementById("generate"),document.getElementById("submit");async function t(e){const t=await fetch("/api/information",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});try{let e=t.json();return console.log("postdata result is",e),e}catch(e){console.log("Error",e.message)}}function n(e){const t=(new Date).getTime(),n=new Date(e).getTime()-t,i=Math.floor(n/864e5);return console.log("days:",i),i}async function i(){const e=await fetch("/result"),t=await e.json(),i=t.date,d=n(i);console.log("departday",i),document.getElementById("title").innerHTML="My trip",document.getElementById("travelresult").innerHTML=`My trip to: ${t.destination.city}, ${t.destination.country_code}`,document.getElementById("cityinfo").innerHTML="Destination Information:",document.getElementById("traveldepart").innerHTML=`Departing: ${t.date}`,document.getElementById("traveldepartinfo").innerHTML=`My trip (${t.destination.city}, ${t.destination.country_code}) is ${d} days away.`,document.getElementById("city").innerHTML=`City: ${t.destination.city}`,document.getElementById("citygeo").innerHTML=`Latitude: ${t.destination.latitude}, Longitude: ${t.destination.longitude}`,document.getElementById("weather").innerHTML="Weather of Travel Date:",document.getElementById("selecteddate").innerHTML=`Date: ${t.date}`,document.getElementById("temperature").innerHTML=`Temperature: ${Math.round(t.weather.temperature)} degrees`,document.getElementById("description").innerHTML=`Description: ${t.weather.description}`;const o=document.getElementById("weatherpic"),a=document.getElementById("citypic"),r=t.destination.pixabay_webformatURL,s=t.weather.icon;a.innerHTML=`<img src="${r}">`,o.innerHTML=`<img src="${s}">`}e.exports={countdowndays:n,displayresult:i,postData:t,handleSubmit:async function(e){e.preventDefault();let n=document.getElementById("formh"),d=document.getElementById("resulth");n.classList.add("disnone"),d.classList.add("disflex");let o={departure:document.getElementById("departure").value,destination:document.getElementById("destination").value,date:document.getElementById("date").value};console.log("data is",o);try{t(o).then((e=>{i()}))}catch(e){return e}}}},163:e=>{e.exports={newSearch:function(){document.getElementById("savebtn").disabled=!1;let e=document.getElementById("formh");e.classList.contains("disnone")&&e.classList.remove("disnone")}}},169:e=>{e.exports={store:async function(){const e=await fetch("/result"),t=await e.json(),n=t.date;console.log("departday",n);const i=`My trip to: ${t.destination.city}, ${t.destination.country_code}`,d=`Departing: ${t.date}`;console.log(i,"Destination Information:",d);let o=[i,d],a=JSON.parse(window.localStorage.getItem("savedTrips"))||[];a.push(o),window.localStorage.setItem("savedTrips",JSON.stringify(a)),document.getElementById("saveLi"),document.getElementById("savebtn").disabled=!0,function(e){let t=document.getElementById("container"),n=document.getElementById("saveLi");n||(n=document.createElement("div"),n.setAttribute("id","saveLi"),t.appendChild(n));let i=document.createElement("div");i.setAttribute("id","contholder"),n.appendChild(i),i.innerText=e.join(", ")}(o),function(){let e=document.getElementById("saveLi"),t=document.createElement("button");t.setAttribute("id","remove"),e.appendChild(t),t.innerText="Remove",document.getElementById("remove").setAttribute("class","remove"),document.getElementById("container").addEventListener("click",(function(e){if("BUTTON"===e.target.tagName&&"remove"===e.target.id){let t=e.target.parentNode;t.parentNode.removeChild(t),document.getElementById("savebtn").disabled=!1}}))}(),function(){let e=document.getElementById("saveLi"),t=document.createElement("button");t.setAttribute("id","printbutton"),e.appendChild(t),t.innerText="Print PDF",document.getElementById("printbutton").addEventListener("click",(function(){const e=document.getElementById("saveLi");let t=window.open("","PRINT","height=650,width=900,top=100,left=150");t.document.write("<html><head><title>My Trip</title>"),t.document.write("</head><body >"),t.document.write(e.innerHTML),t.document.write("</body></html>"),t.document.close(),t.print()}))}()},showSavedTrip:function(){let e=document.getElementById("savedtrip");if(e.classList.contains("disflex"))e.classList.remove("disflex"),e.classList.add("disnone");else{e.innerHTML="";let t=JSON.parse(window.localStorage.getItem("savedTrips"));if(t&&t.length>0)t.forEach((n=>{let i=document.createElement("div");i.setAttribute("class","savedDiv"),e.appendChild(i);let d=document.createElement("div");d.setAttribute("class","savedLi"),i.appendChild(d);let o=document.createElement("div");o.setAttribute("class","delBtnDiv"),i.appendChild(o);let a=document.createElement("button");a.setAttribute("class","delBtn"),a.innerText="Delete",o.appendChild(a),a.addEventListener("click",(function(){t=t.filter((e=>e!==n)),window.localStorage.setItem("savedTrips",JSON.stringify(t)),i.remove(),0===t.length&&window.localStorage.setItem("savedTrips",JSON.stringify([]))}));let r=document.createElement("div");r.setAttribute("class","savedLiDiv"),d.appendChild(r),r.innerText=n,d.addEventListener("click",(function(){r.style.display="none"===r.style.display?"block":"none"}))}));else{let t=document.createElement("p");t.innerText="You haven't saved any trips yet.",e.appendChild(t)}e.classList.remove("disnone"),e.classList.add("disflex")}}}}},t={};function n(i){var d=t[i];if(void 0!==d)return d.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";n.r(i),n.d(i,{countdowndays:()=>e.countdowndays,displayresult:()=>e.displayresult,handleSubmit:()=>e.handleSubmit,newSearch:()=>t.newSearch,postData:()=>e.postData,showSavedTrip:()=>d.showSavedTrip,store:()=>d.store});var e=n(437),t=n(163),d=n(169)})(),Client=i})();